# 📌 1. 프로젝트 개요
+ ##### 프로젝트명 : 
    ###### 블록체인 기반 학생 중고거래 플랫
+ ##### 개발 기간 :
    ###### 2024년 04월 ~ 2024년 09월
+ ##### 참여 인원 :
    ###### 3인
+ ##### 나의 역활 :
    + ###### Node.js + MySQL 기반 백엔드 전체 설계 및 구현
    + ###### Solidity 스마트 컨트랙트 설계 및 배포
    + ###### Web3.js를 활용한 블록체인 연동 로직 구현
    + ###### 사용자 인증, 이미지 업로드, 거래 흐름 관리 등 전체 기능 개발

# 🛠️ 2. 기술 스택
+ ##### 사용 언어 :
    ###### JavaScript (Node.js), Solidity, SQL
+ ##### 프레임 워크 :
    + ###### Express.js
+ ##### 데이터 베이스 :
    ###### MySQL
+ ##### 개발 도구 및 라이브러리 :
    + ###### Ganache (로컬 Ethereum 테스트넷)
    + ###### Web3.js (블록체인 연동 라이브러리)
    + ###### Multer (파일 업로드)
    + ###### MySQL Workbench

# 🚀 3. 주요 기능
+ ##### 핵심 기능 소개
    + ###### 사용자 회원가입 및 로그인
    + ###### 중고거래 게시판 등록, 수정, 삭제, 이미지 업로드
    + ###### 거래 중 결제 흐름 스마트 컨트랙트로 처리
    + ###### 사용자별 거래 내역 및 보류 상태 조회
    + ###### Ethereum 지갑 기반 실시간 잔액 및 보류 금액 조회
+ ##### 기술적 차별점
    + ###### 기존 중고거래 플랫폼과 달리 스마트 컨트랙트를 활용한 안전한 결제 흐름 구현
    + ###### 거래 도중 문제가 생길 경우 보류 -> 취소 or 강제 전송 프로세스 도입
    + ###### 블록체인-DB 연동을 통해 중앙/탈중앙 기록 병행 관리
+ ##### 성능 최적화 내용
    + ###### 게시판 및 거래 조회에 시간 역순 정렬 + 페이징 고려 구조
    + ###### 이미지 업로드 시 불필요한 파일 자동 삭제로 서버 디스크 최적

# 🧩 4. 문제 해결 사례
+ #### 문제
    + ##### 상황 :
        ###### 동일한 상대방과의 반복 결제 시, 이전 거래 정보가 덮어써지는 문제
    + ##### 직면한 문제 :
        + ###### 스마트 컨트랙트 payments[payer][payee] 구조가 2차원 맵핑으로 구성되어 있어 동일한 payer -> payee 조합으로 두 번째 결제를 수행하면 첫 번째 결제 데이터가 덮어써짐
        + ###### 사용자 입장에서 이전 거래 내역을 볼 수 없음
        + ###### 거래 기록이 한 건만 유지되므로 신뢰성과 거래 추적성에 심각한 문제 발생
    + ##### 해결 과정 :
      ###### 1. 중복 거래 자체를 컨트랙트 차원에서 차단
      + ###### 기존 결제 상태를 확인한 뒤 새로운 결제를 받지 않도록 수정
      ###### 2. 서버단에서 사전 체크 및 사용자 혼란 방지 메시지 제공
      + ###### 서버에서 viewPendingPayment(payer, payee) 를 호출하여 기존 거래가 존재할 경우 클라이언트에 명확한 메시지 전달
    + ##### 결과 및 학습점:
      ###### 스마트 컨트랙트는 거래 기록의 불변성과 축적이 중요한 만큼 덮어쓰기를 방지하는 구조 설계가 필수
      

